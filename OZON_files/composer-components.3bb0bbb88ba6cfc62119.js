(self.webpackChunk_ozon_ozon_ru=self.webpackChunk_ozon_ozon_ru||[]).push([["composer-components"],{"15e07":(t,e,n)=>{"use strict";n.d(e,{Z:()=>I});var r=n("a4df2"),o=n("49886"),c=n("d6443"),l=n("40de1"),d=n("6876d"),h=n("f9266"),f=n("ff287"),v=n.n(f),y=n("2b41b"),m=n("2f977"),w=function(){return w=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},w.apply(this,arguments)};const T={props:{trackingInfoProp:{type:[Object,String],default:function(){return{}}},trackingOn:{type:Boolean,default:!1},root:{type:Boolean,default:!1}},provide:function(){return{sendAEventInjection:this.sendAEvent,getWidgetTokenInjection:this.getWidgetToken}},computed:w(w({},(0,d.rn)({pageToken:function(t){return v()(t,"pageToken","")},userToken:function(t){return v()(t,"userToken","")},isTrinityEvent:function(t){return v()(t,"experimentsConfig.isTrinityEvent",!1)}})),{trackingInfo:function(){return"string"==typeof this.trackingInfoProp?JSON.parse(this.trackingInfoProp):this.trackingInfoProp}}),mounted:function(){if(this.trackingOn)return null==this.asyncType?this._registerSendViewEvent():void this.hook("async::loaded",this._delayRegisterViewEvent,{once:!0})},methods:{getWidgetToken:function(){return this.widgetToken},sendAEvent:function(t,e){var n={widgetToken:this.widgetToken,pageToken:this.pageToken,userToken:this.userToken};return y.Z.send(n,t,e,this.isTrinityEvent)},_delayRegisterViewEvent:function(){if(this.widgetInViewport)return this._sendViewEvent();this._registerSendViewEvent()},_registerSendViewEvent:function(){this.registerViewportEvent(this._sendViewEvent,{once:!0})},_sendViewEvent:function(){this._sendAnalyticEvent(m.rr.WIDGET_VIEW_ACTION)},_sendAnalyticEvent:function(t){if(this.root)return!1;var e;this.isTrinityEvent&&(e=(0,h.generateClickHouseUUID)(),m.yD.sendTrinityEvent({actionType:t,uuid:e,pageToken:this.pageToken,widgetToken:this.widgetToken,userToken:this.userToken}));var n={actionType:t,widget:this.trackingInfo};this.isTrinityEvent&&(n.uuid=e),m.yD.sendComposerEvent(n)}},mixins:[l.ZP,c.Z]};var O=n("2dfb5"),P=n("8eb4b");const k={mounted:function(){var t=(v()(this.$store.state,"o3Params."+P.t)||"true"===(0,O.ej)(P.t))&&this.$el instanceof HTMLElement,e=v()(this,"trackingInfo.id");t&&e&&(this.$el.dataset.widgetId=e,this.$el.dataset.widgetName=v()(this,"componentName"),this.$el.dataset.vertical=v()(this,"vertical"),this.$el.dataset.version=v()(this,"version"))}};var E=n("9eb7e"),_=n("c3e9a"),S=n("64341"),x=n("b0d45"),$=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},A=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},L={name:"BaseWidget",inheritAttrs:!1,data:function(){return{widgetState:this.widgetInitialState}},mixins:[c.Z,T,l.ZP,k,E.Z,_.Z],props:S.t,inject:{$informPaginatorMounted:{default:null},isMobile:{default:!1}},mounted:function(){var t=this;this.$el&&"function"==typeof this.$el.setAttribute&&this.$el.setAttribute("data-widget",this.componentName),this.$nextTick((function(){t.$informPaginatorMounted&&t.$informPaginatorMounted(t.stateId)}))},beforeCreate:function(){this.$options.propsData},created:function(){var t,e=this,n=this,r=n.widgetInitialState,o=n.stateId,c=n.asyncType;this.widgetInitialState&&Object.keys(this.widgetInitialState).length&&this.$stateObserver.next(((t={})[this.stateId]=this.widgetInitialState,t),!0),this.stateSubscription=this.$stateObserver&&this.$stateObserver.asObservable().subscribe((function(t){return null!==t&&null!=t[o]&&(t[o]!==e.widgetState&&void e.setWidgetState(t[o]))}));try{(0,x.Yw)(r,o,void 0!==c)}catch(t){this.logError(t)}},beforeDestroy:function(){this.stateSubscription&&this.stateSubscription.unsubscribe()},computed:{groupStatePath:function(){return[this.vertical,this.componentName].join(".")}},methods:{destroyWidget:function(){return $(this,void 0,void 0,(function(){return A(this,(function(t){switch(t.label){case 0:return[4,this.$store.dispatch("composer/REMOVE_WIDGET_BY_STATE_ID",this.stateId)];case 1:return t.sent(),[2]}}))}))},setWidgetState:function(t){var e,n=this,r=(0,x.V0)(t,(function(t){return n.logError(t)}));this.$stateObserver.next(((e={})[this.stateId]=r,e),!0),this.widgetState=r,void 0===this.asyncType&&this.$emit("state::loaded")},setWidgetStateValue:function(path,t){var e;return this.$stateObserver.next(((e={})[this.stateId]=this.widgetState,e),!0),o._0(this.widgetState,path,t)},setWidgetPlaceholders:function(t,e){return $(this,void 0,void 0,(function(){return A(this,(function(n){switch(n.label){case 0:return[4,this.$store.dispatch("composer/SET_WIDGET_PLACEHOLDER_BY_STATE_ID",{stateId:this.stateId,placeholder:{name:t,widgets:e}})];case 1:return n.sent(),[2]}}))}))},notEmptyPlaceholder:function(t){return this.getPlaceholderWidgets(t).length},getPlaceholderWidgets:function(t){var e=(0,x.ph)(this.placeholders,t);return e?e.widgets:[]},getLoggerParams:function(){var t=this;return{widget:t.componentName,stateId:t.stateId,vertical:t.vertical,error:t.widgetState.error}},logError:function(t){var e=this.getLoggerParams();t.setPayloadValue("widget",e.widget),t.setPayloadValue("stateId",e.stateId),t.setPayloadValue("error",e.error),t.setPayloadValue("vertical",e.vertical),this.$logger.error(t)}}};const I=r.default.extend(L)},"40de1":(t,e,n)=>{"use strict";n.d(e,{Wy:()=>O,ZP:()=>E});var r=n("8fd32"),o=n("65306"),c=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},l=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};const d={data:function(){return{hooks:{}}},methods:{hook:function(t,e,n){void 0===n&&(n={}),this.hooks[t]=this.hooks[t]||[],this.hooks[t].push({callback:e,params:n})},callHook:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return c(this,void 0,void 0,(function(){var n,r;return l(this,(function(o){switch(o.label){case 0:if(!this.hooks[t])return[3,4];n=0,o.label=1;case 1:return n<this.hooks[t].length?[4,(r=this.hooks[t][n]).callback.apply(this,e)]:[3,4];case 2:o.sent(),r.params.once&&(this.hooks[t].splice(n,1),n--),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))}},beforeDestroy:function(){this.hooks=[]}};var h=n("d6443"),f=n("6876d"),v=n("e563c"),y=n("6e29b"),m=function(){return m=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},m.apply(this,arguments)},w=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},T=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},O="onViewport",P="onPageLoad",k=[O,P];const E={mixins:[d,h.Z],data:function(){return{isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,asyncLoadEvent:null}},props:{asyncType:{type:String,validator:function(t){return k.indexOf(t)>=0||void 0===t}},asyncHash:{type:String,default:""}},computed:{showAsyncLoader:function(){return this.asyncType&&!this.isAsyncLoaded}},created:function(){if(this.asyncType&&!this.asyncHash){var t=new v.m(o._.WIDGET_ASYNC_WITHOUT_HASH);return this.$logger.error(t),!1}this._tryToRegisterViewEvent()},mounted:function(){return w(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return this.$when(["composer/GET_LAYOUT","composer/SET_COMPOSER_LAYOUT"],this.checkWidgetState),[4,this._tryToLoadOnMount()];case 1:return t.sent(),[2]}}))}))},beforeDestroy:function(){this.$when.unsubscribe(["composer/GET_LAYOUT","composer/SET_COMPOSER_LAYOUT"],this.checkWidgetState)},methods:m(m({},(0,f.nv)("composer",{_replaceSharedStoreAction:"REPLACE_SHARED_STORE"})),{preventAsyncFetch:function(){this.isAsyncDelay=!0},checkWidgetState:function(){return w(this,void 0,void 0,(function(){var t=this;return T(this,(function(e){return this.$nextTick((function(){return w(t,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return this.widgetState&&Object.keys(this.widgetState).length?[2]:this.isAsyncLoaded||this.isAsyncLoading?(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),[4,this._tryToLoadOnMount()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})),[2]}))}))},fetchAsyncState:function(t,e){return void 0===t&&(t=void 0),void 0===e&&(e=void 0),w(this,void 0,void 0,(function(){var n,r,o,c,l,d,h;return T(this,(function(f){switch(f.label){case 0:return n=this._getAsyncWidgetApi(),o=(r=this).asyncHash,c=r.componentName,l={asyncHash:o,componentName:c},void 0!==t&&(l.extraBody=t),void 0!==e&&(l.url=e),this.isAsyncLoading=!0,[4,n.post(l)];case 1:d=f.sent(),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this._replaceAsyncState(d,t)];case 3:return f.sent(),[3,5];case 4:return h=f.sent(),this.$logger.error(h),[3,5];case 5:return this.isAsyncLoading=!1,this.isAsyncLoaded=!0,this.callHook("async::loaded"),this.$emit("state::loaded"),[2]}}))}))},_replaceAsyncState:function(t,e){return void 0===e&&(e=void 0),w(this,void 0,void 0,(function(){var n,c,l,d,h,f,v;return T(this,(function(m){switch(m.label){case 0:return t.isSkip?[4,this.destroyWidget()]:[3,2];case 1:m.sent(),m.label=2;case 2:if(c=(n=this).asyncWidgetMapper,l=n.asyncSharedMapper,d=n.vertical,!t||"object"!==(0,r.Z)(t))throw new y.H(o._.WIDGET_ASYNC_EMPTY_RESPONSE);return h=t.state,f=t.verticalShared,v=t.trackingPayloads,h&&Object.keys(h).length&&(c&&"function"==typeof c&&(h=c(h,e)),this.setWidgetState(h)),f&&Object.keys(f).length&&(l&&"function"==typeof l&&(f=l(f)),this._replaceSharedStoreAction({vertical:d,verticalShared:f})),v&&Object.keys(v).length?[4,this.$store.dispatch("SET_TRACKING_PAYLOADS",v)]:[3,4];case 3:m.sent(),m.label=4;case 4:return[2]}}))}))},_getAsyncWidgetApi:function(){return this.$api.composer.widget},_tryToLoadOnMount:function(){return w(this,void 0,void 0,(function(){return T(this,(function(t){switch(t.label){case 0:return this._isAsyncByType(P)?[4,this.fetchAsyncState()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},_tryToRegisterViewEvent:function(){this._isAsyncByType(O)&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType:function(t){return this.asyncType===t&&this.asyncHash&&!this.isAsyncDelay}})}},d6443:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={name:"InViewportMixin",created:function(){this.widgetInViewport=!1,this.viewportEvents=[]},mounted:function(){var t=this;this.intersectionObserver=new IntersectionObserver((function(e){var n=e[0];if(!n)return!1;t.viewportEvents=t.viewportEvents.filter((function(t){return t.params.sendAlways?(t.callback(n.isIntersecting),!0):!n.isIntersecting||(t.callback(!0),!(t.params.once&&!t.params.store))}))})),this.$when("composer/GET_LAYOUT",this._reloadObserver),this.registerViewportEvent((function(e){t.widgetInViewport=e}),{sendAlways:!0}),this._bindViewportEvents()},beforeDestroy:function(){this._unbindViewportEvents(),this.$when.unsubscribe("composer/GET_LAYOUT",this._reloadObserver)},methods:{registerViewportEvent:function(t,e){void 0===e&&(e={});var n=function(t,e){return void 0===e&&(e={}),{params:e,callback:t,viewed:!1}}(t,e);return this.viewportEvents.push(n),n},_reloadObserver:function(){var t=this;this.$nextTick((function(){t.$el instanceof HTMLElement&&(t.intersectionObserver.unobserve(t.$el),t.intersectionObserver.observe(t.$el))}))},_bindViewportEvents:function(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents:function(){this.intersectionObserver.disconnect()}}}},"1f7ff":(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n("9de2f"),o=n("3e7b0");const c={components:{ErrorCapture:r.Z},mixins:[o.Z],props:{placeholders:{type:Array,default:function(){return[]}},place:{type:String,default:"default"},tagName:{type:String,default:"div"},placeClass:{type:String,default:""}}};const template=(0,n("b429c").Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.useDefaultRender||t.usePartialRender&&!t.isServer?n(t.tagName,{tag:"component"},[t._l(t.renderingComponents,(function(e,r){return[t.defer(e.defer||0)?n("ErrorCapture",t._g({key:(e.stateId||"empty")+"-"+r,attrs:{widget:t.createComponent(e),"widget-props":t.getWidgetProps(e),platform:t.platform}},t.$listeners)):t._e()]}))],2):t.placeIndex<0?n(t.tagName,{tag:"component",attrs:{"data-widget-disallow":t.replaceLayoutPath}}):n(t.tagName,{tag:"component",attrs:{"data-replace-layout-path":t.replaceLayoutPath}},[t._v("#CONTENT#")])}),[],!1,null,null,null).exports,l=function(t){return{extends:template,data:function(){return{type:t}}}}},"3e7b0":(t,e,n)=>{"use strict";n.d(e,{Z:()=>k});var r=n("8fd32"),o=n("132d6"),c=n("26071"),l=function(){return l=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},l.apply(this,arguments)},d={};var h=n("ff287"),f=n.n(h),v=n("65306"),y=n("e563c");const m={name:"WidgetDisallowMixin",computed:{widgets:function(){for(var t=[],e=this.placeholders[this.placeIndex]||{},n=e.widgets&&e.widgets.length?e.widgets:[],r=0;r<n.length;r++)t.push(Object.assign({},n[r],{index:r}));return t},placeIndex:function(){if(!Array.isArray(this.placeholders))return-1;for(var i=0;i<this.placeholders.length;i++)if(this.placeholders[i].name===this.place)return i;return-1}},methods:{getAllowedComponents:function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=c.Z.places);for(var r={allowed:[],disallowed:[]},h=0;h<e.length;h++){var f=e[h],component=l({},f),v=(0,o.S)(component.vertical,component.component);component.name=v,component.index=h,d[v]||(d[v]={}),d[v][t]||(d[v][t]=(n[v]||[]).indexOf(t)>-1),r[d[v][t]?"allowed":"disallowed"].push(component)}return r},sendDisallow:function(t,e){var n=e.map((function(component){return component.name})),component=f()(this.$parent,"$vnode.componentOptions.tag");t.setPayloadValue("component",component),t.setPayloadValue("disallowNames",n),t.setPayloadValue("placeholderName",this.placeholderName),this.$logger.error(t)},checkDisallow:function(t){void 0===t&&(t=[]);try{this.validateDisallow(t)}catch(e){this.sendDisallow(e,t)}},validateDisallow:function(t){if(void 0===t&&(t=[]),t.length)throw new y.m(v._.WIDGET_CANT_BE_RENDERED)}}};var w=n("b7e03"),T=n("6876d"),O=n("d2a98"),P=function(){return P=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},P.apply(this,arguments)};const k={name:"PlaceholderRenderMixin",data:function(){return{isServer:Boolean(!1)}},mixins:[(0,O.N)(),m],inject:{$informPaginatorMounted:{default:null},isMobile:{default:!1},layoutPath:{default:""},useWidgetRender:{default:!1},useBlockRender:{default:!1}},computed:P(P({},(0,T.rn)({platform:function(t){return f()(t,"client.platform","undefined")}})),{placeholderName:function(){return[this.type,this.place].join(".")},useDefaultRender:function(){return!this.useWidgetRender&&!this.useBlockRender},usePartialRender:function(){return this.useWidgetRender||this.useBlockRender},replaceLayoutPath:function(){return this.placeIndex<0?this.layoutPath:this.layoutPath+"["+this.placeIndex+"]"},renderingComponents:function(){var t=this.getAllowedComponents(this.placeholderName,this.widgets),e=t.allowed,n=t.disallowed;if(n&&n.length&&this.$informPaginatorMounted)for(var i=0;i<n.length;i++){var r=n[i];this.$informPaginatorMounted(r.stateId)}return this.checkDisallow(n),e}}),methods:{createComponent:function(component){try{var content=this.getComponentsContent()[component.name],t=this.isMobile?"mobile":"desktop",e=component.version&&component.version.toString()||"1";return(0,w.Z)(content,e,t)}catch(t){return this.$logger.error(t),"div"}},getWidgetProps:function(t){var e=t.params,n=t.widgetTrackingInfo,o=this.$config.get("memcachedEnable"),c={};"string"==typeof e?c=JSON.parse(e):"object"===(0,r.Z)(e)&&(c=P({},e));var l=o&&t.etag?t.etag:null;return Object.assign(c,{componentName:t.component,asyncType:t.asyncType,asyncHash:t.asyncData,trackingOn:t.trackingOn,vertical:t.vertical,stateId:t.stateId,version:t.version,placeholders:t.placeholders,root:t.root,class:this.placeClass,widgetToken:t.widgetToken,trackingInfoProp:n,etag:l,fromCache:!1,widgetInitialState:this.parseWidgetInitialState(t)})},parseWidgetInitialState:function(t){var e;if(t.stateId){var n=document.getElementById("state-"+t.stateId),r=n&&n.getAttribute("data-state"),o=f()(this.$stateObserver,"value["+t.stateId+"]")||r;"string"==typeof o&&(o=JSON.parse(o)),e=o||{}}return e},getComponentsContent:function(){return c.Z.content||{}}}}},b7e03:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n("8fd32"),o=n("65306"),c=n("6e29b"),l=function(content,t,e){var component=content;if("function"==typeof content)return content;if("object"!==(0,r.Z)(content))throw new c.H(o._.WRONG_WIDGET_CONTENT);if(content.desktop&&content.mobile&&(component=component[e]),"function"==typeof component)return component;if(!component.versions)throw new c.H(o._.WRONG_WIDGET_VERSION);return"1"===t||component.default&&Object.keys(component.versions).length&&!component.versions[t]?component.default:component.versions[t]}},"132d6":(t,e,n)=>{"use strict";n.d(e,{S:()=>o});var r={};function o(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),r[t]||(r[t]={}),r[t][e]||(r[t][e]=c(t)+c(e)),r[t][e]}function c(t){return void 0===t&&(t=""),t.charAt(0).toUpperCase()+t.substr(1)}},f6b47:t=>{t.exports={modal:"e1l9",loader:"e1m",mobile:"e1m0"}},b88d5:t=>{t.exports={notifyContainer:"e1l5",close:"e1l6",":hover":"e1l7",molecula:"e1l8",modText:"a0f",modButton:"a1z0",modProgressBar:"b0w"}},"933c6":t=>{t.exports={progress:"e1l1",loader:"e1l2",succeed:"e1l3",failed:"e1l4"}},fee79:t=>{t.exports={cont:"a4i5"}},31701:t=>{t.exports={scrollChecker:"a3w7",spinner:"a4g8",hide:"a4g9"}},"96eb7":(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r=n("54efe"),o=n("ad8dd"),c=n("95eae"),l=n("32cd6"),d=function(){return d=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},d.apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},f=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},v={UNSET:"",SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},y="noopener";const m={name:"ComposerLink",functional:!0,props:{href:l.default.oneOfType([l.default.string,l.default.bool]).def(!1),method:l.default.string.def("push"),silent:l.default.bool.def(!1),target:l.default.oneOf(Object.values(v)).def(v.UNSET),scroll:l.default.bool.def(!0)},render:function(t,e){var data=e.data,n=e.props,l=e.listeners,m=e.children;return data.attrs=data.attrs||{},n.target===v.BLANK&&-1===(data.attrs.rel||"").indexOf(y)&&(data.attrs.rel=data.attrs.rel?data.attrs.rel+" "+y:y),t("a",d(d({},data),{attrs:d(d({},data.attrs),{target:n.target||!1,href:n.href||!1}),on:d(d({},l),{click:function(t){return function(t,e,n,l){return h(void 0,void 0,void 0,(function(){var d,h,y,m,w,T;return f(this,(function(f){switch(f.label){case 0:return d=r.F.getInstance(),!e.target&&t.href||!n.click?(h=!!l&&(l.ctrlKey||l.metaKey||2===l.which||t.target===v.BLANK),n.click&&n.click(l),l.defaultPrevented?[2,!1]:"#"===t.href[0]?(y=(0,o.E)(t.href),m=y.hash,w=y.offsetTop,T=w?{offsetTop:w}:void 0,(0,c.ZP)("#"+m,300,T),[2]):(l.preventDefault(),t.href.startsWith("http")?[2,d.redirect(t.href)]:h?(d.redirect(t.href,"_blank"),[3,3]):[3,1])):(n.click(l),[2]);case 1:return[4,d[t.method](t.href,{silent:t.silent,scroll:t.scroll})];case 2:f.sent(),f.label=3;case 3:return[2]}}))}))}(n,data.attrs,l,t)}})}),m)}};const w=(0,n("b429c").Z)(m,undefined,undefined,!1,null,null,null).exports},c9165:(t,e,n)=>{"use strict";n.d(e,{Z:()=>T});var r=n("d68e9"),o=n("f24c5"),c=n.n(o),l=n("ff287"),d=n.n(l),h=n("9eb7e"),f=n("3802a"),v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c};const y={name:"ModalLayout",components:{OzModal:r.OzModal,DotsIcon:c(),LayoutBlockVertical:f.default},mixins:[h.Z],inject:{isMobile:{default:!1}},provide:function(){return{isModal:!0}},computed:{options:function(){return d()(this.$store.state,"shared.layoutModalOptions",{})},position:function(){var t=this.options.position||{},e=Object.entries(t);return{position:e.every((function(t){return"number"==typeof v(t,2)[1]}))&&e.length?"absolute":"relative",top:t.top-32+"px",left:t.left-40+"px"}},theme:function(){return d()(this.options,"theme","empty")},closeButton:function(){return d()(this.options,"closeButton",!0)},noSelfClose:function(){return d()(this.options,"noSelfClose",!1)},placeholders:function(){return[{name:"default",widgets:d()(this.$store.state,"layoutModal",[])}]},hasWidgets:function(){return this.placeholders[0].widgets&&this.placeholders[0].widgets.length}},mounted:function(){var t=this;document.addEventListener("keydown",this.checkEscapeKey),this.endRouteLoading((function(){t.close()}))},beforeDestroy:function(){document.removeEventListener("keydown",this.checkEscapeKey)},methods:{close:function(){this.$store.dispatch("composer/CLOSE_MODAL")}}};var m=n("f6b47");const w=n.n(m)();const T=(0,n("b429c").Z)(y,(function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return e.options.showModal?r("OzModal",{attrs:{"scrolling-wrapper":!e.options.withScroll,"close-button-position":e.options.closeButtonPosition,"is-mobile-theme":e.isMobile,centered:!e.options.notCentered,theme:e.theme,"close-button":e.closeButton,"no-self-close":e.noSelfClose,"test-info":{automatizationCloseId:"modal-close"}},on:{close:e.close}},[r("div",{class:e.$style.modal},[e.hasWidgets?r("LayoutBlockVertical",{attrs:{placeholders:e.placeholders,"component-name":"blockVertical",vertical:"layout",theme:e.theme,root:""}}):r("div",{directives:[{name:"qa",rawName:"v-qa",value:{id:"five-dots-loader"},expression:"{id: 'five-dots-loader'}"}],class:[e.$style.loader,(t={},t[e.$style.mobile]=e.isMobile,t)]},[r("DotsIcon")],1)],1)]):e._e()}),[],!1,(function(t){this.$style=w.locals||w}),null,null).exports},c6e3f:(t,e,n)=>{"use strict";n.d(e,{Z:()=>x});var r=n("5eabe"),o=n("ff287"),c=n.n(o),l=n("d68e9"),d=n("6b74f"),h=n.n(d),f=n("62f0b"),v=n.n(f),y=n("9ca55"),m=n("8a935"),w=n("9dd68"),T=n("e252b");function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){(0,r.Z)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k={textMedium:y.Z,progressBarSigned:m.Z,smallButton:w.Z};const E={name:"NotifyLayout",components:{OzTransition:l.OzTransition,LayoutBlockVertical:function(){return Promise.resolve().then(n.bind(n,"3802a"))}},inject:{isMobile:{default:!1}},mixins:[T.a],data:function(){return{mods:["modNotification"],timeOut:null}},computed:{crossComponent:function(){return this.isMobile?h():v()},options:function(){return c()(this.$store.state,"shared.layoutNotifyOptions",{})},show:function(){return this.options.showNotify},notEmptyPlaceholders:function(){return this.placeholders.length},placeholderWidgets:function(){return((this.placeholders||[]).find((function(t){return"default"===t.name})).widgets||{}).map((function(t){return{component:k[t.type]||null,props:P({},t)}}))},placeholders:function(){return[{name:"default",widgets:c()(this.$store.state,"layoutNotify",[])}]}},watch:{show:function(t){t&&this.updateTimeout()},placeholders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t[0]&&t[0].widgets;e.length&&this.updateTimeout()}},methods:{close:function(){this.$store.dispatch("composer/CLOSE_NOTIFY")},getAtomClass:function(t){var e;switch(t){case"textMedium":e="modText";break;case"smallButton":e="modButton";break;case"progressBarSigned":e="modProgressBar";break;default:e=""}return this.$style[e]},updateTimeout:function(){var t=this;this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){t.$store.commit("deepSet",{path:"shared.layoutNotifyOptions.showNotify",value:!1})}),5e3)},onSwipe:function(t){["left","right","top"].includes(t)&&this.close()},onTouchStart:function(t){this.baseTouchX=c()(t,"touches[0].clientX",0),this.baseTouchY=c()(t,"touches[0].clientY",0),this.movingX=null},onTouchEnd:function(){var t=this;setTimeout((function(){t.$refs.container&&(t.$refs.container.style.top="8px",t.$refs.container.style.left=0,t.$refs.container.style.right=0)}),0)},onMove:function(t){var e=this,n=this.baseTouchX-c()(t,"touches[0].clientX",0),r=this.baseTouchY-c()(t,"touches[0].clientY",0);this.movingX=null===this.movingX?Math.abs(n)>Math.abs(r):this.movingX,requestAnimationFrame((function(){e.$refs.container&&(e.movingX?(e.$refs.container.style.left="".concat(-n,"px"),e.$refs.container.style.right="".concat(n,"px")):r>0&&(e.$refs.container.style.top="".concat(8-r,"px")))}))}}};var _=n("b88d5");const S=n.n(_)();const x=(0,n("b429c").Z)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OzTransition",[t.options.showNotify&&t.notEmptyPlaceholders?n("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:t.isMobile&&t.onSwipe,expression:"isMobile && onSwipe",arg:"swipe"},{name:"touch",rawName:"v-touch:start",value:t.isMobile&&t.onTouchStart,expression:"isMobile && onTouchStart",arg:"start"},{name:"touch",rawName:"v-touch:moving",value:t.isMobile&&t.onMove,expression:"isMobile && onMove",arg:"moving"},{name:"touch",rawName:"v-touch:end",value:t.isMobile&&t.onTouchEnd,expression:"isMobile && onTouchEnd",arg:"end"}],ref:"container",class:t.$style.notifyContainer},[t.options.nuclear?[n("section",{class:t.$style.molecula},t._l(t.placeholderWidgets,(function(e,r){return n(e.component,t._b({key:r,tag:"component",class:t.getAtomClass(e.props.type),attrs:{mods:t.mods},on:{click:t.onAtomAction}},"component",e.props,!1))})),1)]:[n("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,root:!0,"component-name":"blockVertical",vertical:"layout"}})],t._v(" "),n(t.crossComponent,{tag:"component",class:t.$style.close,on:{click:t.close}})],2):t._e()])}),[],!1,(function(t){this.$style=S.locals||S}),null,null).exports},beac0:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});var r=n("9eb7e"),o=n("e0cf5"),c=n("6876d"),l=n("81ad5"),d=function(){return d=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},d.apply(this,arguments)};const h={name:"IndeterminateLoader",mixins:[r.Z],data:function(){return{percent:0,show:!1,succeed:!0}},computed:d({},(0,c.rn)({o3params:function(t){return t.o3Params||{}}})),mounted:function(){this.startRouteLoading(this.start),this.endRouteLoading(this.finish)},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;this.clear(),this.percent=0,this.succeed=!0,this._throttle=setTimeout((function(){return t.startTimer()}),100)},finish:function(t){var e=t.status;if(e===l.T5.LOADING_CANCELLED)return this.clear(),!1;e===l.T5.LOADING_FAILURE&&(this.succeed=!1),this.percent=100,this.hide()},hide:function(){var t=this;this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0}))}),500)},startTimer:function(){var t=this;this.show||(this.show=!0),this._timer=setInterval((function(){t.percent=Math.min(100,Math.floor(t.percent+3))}),100)}},render:function(t){var e;if(!this.show||this.o3params[o.F])return t("");var n={staticClass:this.$style.loader,class:(e={},e[this.$style.succeed]=this.succeed,e[this.$style.failed]=!this.succeed,e),style:{width:this.percent+"%"}};return t("div",{staticClass:this.$style.progress},[t("div",n)])}};var f=n("933c6");const v=n.n(f)();const y=(0,n("b429c").Z)(h,undefined,undefined,!1,(function(t){this.$style=v.locals||v}),null,null).exports},d49ec:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Z});var r=n("5eabe"),o=n("15e07"),c=n("6876d"),l=n("8fab3"),d=n("4deed"),h=n("1f7ff"),f=n("9e1cf"),v=function(){return v=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},v.apply(this,arguments)},y=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},m=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};const w={inheritAttrs:!1,data:function(){return{isLoading:!1}},props:{widgetState:{type:Object,required:!0},placeholders:{type:Array,default:function(){return[]}}},mixins:[l.z,d._,f.Z],computed:{hasNextPage:function(){return!!this.widgetState.nextPage}},methods:v(v(v({},(0,c.nv)("composer",{getComposerPage:"GET_PARSED_API_RESPONSE"})),(0,c.nv)({setSharedState:"SET_SHARED_STATE",setTrackingPayloads:"SET_TRACKING_PAYLOADS"})),{setNextPage:function(t){this.$emit("setWidgetStateValue","nextPage",t||null)},setContent:function(content){return y(this,void 0,void 0,(function(){return m(this,(function(t){return this.$emit("setWidgetPlaceholders","default",content),[2]}))}))},resetLoading:function(){this.isLoading=!1},fetchNextPage:function(){return y(this,void 0,void 0,(function(){var t,e,n,r,o,c,l;return m(this,(function(d){switch(d.label){case 0:if(!this.widgetState.nextPage||this.isLoading)return[2,!1];this.startCountPerformance(),this.isLoading=!0,t={nextPage:null,widgetStates:null,layout:[],shared:{},trackingPayloads:{}},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getComposerPage({url:this.widgetState.nextPage})];case 2:return e=d.sent(),t=e||t,[3,4];case 3:return d.sent(),this.resetLoading(),[3,4];case 4:return n=t.nextPage,r=t.layout,o=t.widgetStates,c=t.shared,l=t.trackingPayloads,this.swPrefetchNextPage(t),null!=o&&this.$stateObserver.next(o),this.setNextPage(n),c&&Object.keys(c).length&&this.setSharedState(c),l&&Object.keys(l).length&&this.setTrackingPayloads(l),r&&r.length?[4,this.setContent(r)]:[3,6];case 5:d.sent(),d.label=6;case 6:return this.resetLoading(),this.trackWidgetsTimeSpent("PAGE_PART"),[2]}}))}))}}),components:{PlaceholderRender:(0,h.Z)("paginator")}};var T=n("9eb7e"),O=n("f24c5"),P=n.n(O),k=n("32cd6"),E=function(t,e,n,r){return new(n||(n=Promise))((function(o,c){function l(t){try{h(r.next(t))}catch(t){c(t)}}function d(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((r=r.apply(t,e||[])).next())}))},_=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};function S(t,e){void 0===t&&(t=[]);for(var i=0;i<t.length;i++){var n=t[i];if(n.widgets&&n.widgets.length)for(var r=0;r<n.widgets.length;r++)e(n.widgets[r].stateId),S(n.widgets[r].placeholders,e)}}const x={components:{Loader:P()},extends:w,mixins:[T.Z],props:{offsetTop:k.default.number.def(2400),minHeight:k.default.number.def(0),isContentVisibilityAuto:k.default.bool.def(!1)},provide:function(){return{$informPaginatorMounted:this.unRegisterWidget}},data:function(){return{pagerVisible:!1,isDetectDisabled:!1,countNestedWidgets:0,isFirstPageLoaded:!1}},computed:{detectViewportSettings:function(){return{unbind:this.isDetectDisabled,callback:this.onScroll.bind(this),top:this.minHeight+"px",bottom:(this.offsetTop||2400)+"px"}},showLoader:function(){return this.isLoading||!!this.countNestedWidgets}},watch:{placeholders:{handler:function(t){void 0===t&&(t=[]),t.length&&!this.isFirstPageLoaded&&S(t,this.registerWidget)},immediate:!0}},mounted:function(){var t=this;this.awaitWidgets={},this.timer=null,this.endRouteLoading((function(){t.isLoading=!1,t.pagerVisible=!1,t.isDetectDisabled=!1,t.countNestedWidgets=0,t.isFirstPageLoaded=!1}))},beforeDestroy:function(){clearTimeout(this.timer)},methods:{onScroll:function(t){return E(this,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return!t||this.isLoading?[2]:(this.pagerVisible=t,this.isDetectDisabled=!0,[4,this.fetchNextPage()]);case 1:return e.sent(),this.isFirstPageLoaded||this.startTimerFirstPageWidgets(),this.isDetectDisabled=!1,[2]}}))}))},registerWidget:function(t){this.awaitWidgets&&!Object.prototype.hasOwnProperty.call(this.awaitWidgets,t)&&(this.awaitWidgets[t]=1,this.countNestedWidgets++)},unRegisterWidget:function(t){if(this.awaitWidgets)return Object.prototype.hasOwnProperty.call(this.awaitWidgets,t)?(this.countNestedWidgets--,void(0===this.countNestedWidgets&&this.showFirstPageWidgets())):void(this.isFirstPageLoaded||0!==Object.keys(this.awaitWidgets).length||this.showFirstPageWidgets())},startTimerFirstPageWidgets:function(){clearTimeout(this.timer),this.timer=setTimeout(this.showFirstPageWidgets,3e3)},showFirstPageWidgets:function(){this.countNestedWidgets=0,this.isFirstPageLoaded=!0,this.awaitWidgets={}}}};var $=n("31701");const A=n.n($)();var L=n("b429c");const I=(0,L.Z)(x,(function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{directives:[{name:"no-body-scroll-anchoring",rawName:"v-no-body-scroll-anchoring"}],style:{minHeight:(e.isFirstPageLoaded?0:e.minHeight)+"px",contentVisibility:!!e.isContentVisibilityAuto&&"auto"}},[r("PlaceholderRender",{class:(t={},t[e.$style.hide]=e.countNestedWidgets,t),attrs:{placeholders:e.placeholders}}),e._v(" "),e.hasNextPage?r("div",{ref:"checker",class:e.$style.scrollChecker},[r("div",{directives:[{name:"detect-viewport",rawName:"v-detect-viewport",value:e.detectViewportSettings,expression:"detectViewportSettings"}],ref:"detector"})]):e._e(),e._v(" "),e.showLoader?r("Loader",{directives:[{name:"qa",rawName:"v-qa:id",value:"scroll-loader",expression:"'scroll-loader'",arg:"id"}],class:e.$style.spinner}):e._e()],1)}),[],!1,(function(t){this.$style=A.locals||A}),null,null).exports;const N={components:{OzButton:n("d68e9").OzButton},inject:{isMobile:{default:!1}},extends:w};var W=n("fee79");const C=n.n(W)();const D=(0,L.Z)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PlaceholderRender",{attrs:{placeholders:t.placeholders}}),t._v(" "),t.hasNextPage?n("div",{class:t.$style.cont},[n("OzButton",{attrs:{size:"xl",text:"Загрузить еще",loading:t.isLoading,fill:t.isMobile},on:{click:t.fetchNextPage}})],1):t._e()],1)}),[],!1,(function(t){this.$style=C.locals||C}),null,null).exports;function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function V(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){(0,r.Z)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={SCROLL:"scroll",BUTTON:"button",DEFAULT:""};const R=o.Z.extend({name:"ComposerPaginator",props:V(V({},I.props),{},{fetchType:k.default.oneOf(Object.values(M)).def(M.DEFAULT)}),data:function(){return{FETCH_TYPE:M}},components:{ScrollPaginator:I,ButtonPaginator:D}});const Z=(0,L.Z)(R,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.fetchType===t.FETCH_TYPE.SCROLL?"ScrollPaginator":"ButtonPaginator",{tag:"component",attrs:{"widget-state":t.widgetState,placeholders:t.placeholders,"offset-top":t.offsetTop,"min-height":t.minHeight,"is-content-visibility-auto":t.isContentVisibilityAuto},on:{setWidgetStateValue:t.setWidgetStateValue,setWidgetPlaceholders:t.setWidgetPlaceholders}})}),[],!1,null,null,null).exports},"9de2f":(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var r=n("15e07"),o=n("65306"),c=n("e563c"),l=function(t){return t instanceof r.Z?t:null!=t.$parent?l(t.$parent):null};const d={name:"ErrorCapture",props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:function(){return{}}},platform:{type:String,default:""}},data:function(){return{error:!1}},computed:{errorCheckWidget:function(){return this.error?"div":this.widget}},errorCaptured:function(t,e){var n=l(e),r=t.message?o._.WIDGET_RENDER_ERROR:o._.UNKNOWN_WIDGET_ERROR,d=new c.m(r);if(d.setPayloadValue("error",t.message),d.setPayloadValue("stack",t.stack),d.setPayloadValue("component",e.$options.name),t.message&&null!==n){var h=n.getLoggerParams();d.setPayloadValue("widget",h.widget),d.setPayloadValue("stateId",h.stateId),d.setPayloadValue("vertical",h.vertical)}return this.$logger.error(d),this.error=!0,!1},serverCacheKey:function(t){var e=t.widgetProps||{};return!!e.etag&&["0307d25d67fb29680982ce9dfd57395aea812790",e.vertical,e.componentName,e.etag,t.platform].join(":")}};const h=(0,n("b429c").Z)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.errorCheckWidget,t._g(t._b({tag:"component"},"component",t.widgetProps,!1),t.$listeners))}),[],!1,null,null,null).exports},"500d0":(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n("3e7b0"),o=n("32cd6");const c={name:"SinglePlaceholder",components:{ErrorCapture:n("9de2f").Z},mixins:[r.Z],props:{widget:o.default.object,type:o.default.string,place:o.default.string.def("default"),placeClass:o.default.string.def("")},computed:{placeholders:function(){return this.widget.placeholders},widgets:function(){return[this.widget]},allowedComponent:function(){var t=this.renderingComponents;return t.length?t[0]:void 0}}};const l=(0,n("b429c").Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.allowedComponent&&t.defer(t.allowedComponent.defer||0)?n("ErrorCapture",t._g({attrs:{widget:t.createComponent(t.allowedComponent),"widget-props":t.getWidgetProps(t.allowedComponent),platform:t.platform}},t.$listeners)):t._e()}),[],!1,null,null,null).exports}}]);